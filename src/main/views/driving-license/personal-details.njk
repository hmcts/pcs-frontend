{% extends "template.njk" %}

{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}

{% block content %}

{% if previousStepUrl %}
  {{ govukBackLink({
    text: "Back",
    href: previousStepUrl
  }) }}
{% endif %}

  <h1 class="govuk-heading-l">{{ step.title }}</h1>

  <form method="post">
    {% set firstNameLabel = step.fields.firstName.label if step.fields.firstName.label else 'First name' %}
    {% set lastNameLabel = step.fields.lastName.label if step.fields.lastName.label else 'Last name' %}
    {% set firstNameValue = data.firstName if data.firstName else '' %}
    {% set lastNameValue = data.lastName if data.lastName else '' %}
    {% set firstNameError = errors.firstName if errors.firstName else false %}
    {% set lastNameError = errors.lastName if errors.lastName else false %}
    
    {{ govukInput({
      id: 'firstName',
      name: 'firstName',
      label: {
        text: firstNameLabel,
        classes: 'govuk-label--l'
      },
      value: firstNameValue,
      errorMessage: { text: firstNameError } if firstNameError else null
    }) }}

    {{ govukInput({
      id: 'lastName',
      name: 'lastName',
      label: {
        text: lastNameLabel,
        classes: 'govuk-label--l'
      },
      value: lastNameValue,
      errorMessage: { text: lastNameError } if lastNameError else null
    }) }}

    <div class="govuk-button-group">
      {{ govukButton({
        text: 'Continue',
        attributes: { type: 'submit' } 
      }) }}
    </div>
  </form>
{% endblock %}
