{% extends "stepsTemplate.njk" %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}

{% block content %}
  {{ govukBackLink({ text: back, href: backUrl }) }}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">{{ title }}</h1>

      {{ govukSummaryList({
        rows: [
          {
            key: { text: labels.firstName },
            value: { text: userDetails.applicantForename },
            actions: {
              items: [
                {
                  href: "/steps/user-journey/enter-user-details",
                  text: change,
                  visuallyHiddenText: labels.firstName
                }
              ]
            }
          },
          {
            key: { text: labels.lastName },
            value: { text: userDetails.applicantSurname },
            actions: {
              items: [
                {
                  href: "/steps/user-journey/enter-user-details",
                  text: change,
                  visuallyHiddenText: labels.lastName
                }
              ]
            }
          },
          {
            key: { text: labels.address },
            value: {
              html: ([
                address.addressLine1,
                address.addressLine2,
                address.addressLine3,
                address.town,
                address.county,
                address.postcode,
                address.country
              ] | reject("falsy") | join("<br>"))
            },
            actions: {
              items: [
                {
                  href: "/steps/user-journey/enter-address",
                  text: change,
                  visuallyHiddenText: labels.address
                }
              ]
            }
          }
        ]
      }) }}

      <form method="post" action="{{ url }}">
        {{ govukButton({ text: buttons.submit }) }}
      </form>
    </div>
  </div>
{% endblock %}
