{% extends "stepsTemplate.njk" %}

{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% block mainContent %}
  {% if error %}
    <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
      <h2 class="govuk-error-summary__title" id="error-summary-title">{{ errorSummaryTitle }}</h2>
      <div class="govuk-error-summary__body">
        <ul class="govuk-list govuk-error-summary__list">
          <li><a href="#{{ error.anchor or error.field }}">{{ error.text }}</a></li>
        </ul>
      </div>
    </div>
  {% endif %}

  {% if pageTitle %}
    <h1 class="govuk-heading-l">{{ pageTitle }}</h1>
  {% elif title %}
    <h1 class="govuk-heading-l">{{ title }}</h1>
  {% endif %}

  {% if content %}
    <p class="govuk-body">{{ content | safe }}</p>
  {% endif %}

  <form method="post" action="{{ url }}">
    {% for field in fields %}
      {% if field.component and field.componentType %}
        {% if field.componentType == 'radios' %}
          {{ govukRadios(field.component) }}
        {% endif %}
      {% endif %}
    {% endfor %}

        
    <div class="govuk-button-group">
      {{ govukButton({ 
        text: continue,
        attributes: { type: 'submit', name: 'action', value: 'continue' }
      }) }}
      {{ govukButton({ 
        text: saveForLater,
        classes: 'govuk-button--secondary',
        attributes: { type: 'submit', name: 'action', value: 'saveForLater' }
      }) }}
    </div>
    
    <p class="govuk-body">
      <a href="{{ dashboardUrl }}" class="govuk-link">{{ cancel }}</a>
    </p>
  </form>
{% endblock %}

