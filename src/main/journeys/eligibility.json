{
  "meta": {
    "name": "Eligibility Check",
    "description": "Check if you are eligible to make a claim",
    "version": "1.0.0"
  },
  "steps": {
    "start": {
      "title": "Before you start",
      "description": "Information about what you'll need for your possession claim",
      "next": "page1"
    },
    "page1": {
      "title": "What's the address of the property you're claiming possession of",
      "description": "Enter address details",
      "fields": {
        "address": {
          "type": "address",
          "label": "Your address",
          "hint": "Enter your full address",
          "validate": {
            "required": true,
            "customMessage": "Please enter your address"
          }
        }
      },
      "next": "page2"
    },
    "page2": {
      "title": "Are you 18 or over?",
      "description": "You must be 18 or over to make a possession claim",
      "fields": {
        "age": {
          "type": "radios",
          "label": "Are you 18 or over?",
          "options": [
            { "value": "yes", "text": "Yes" },
            { "value": "no", "text": "No" }
          ],
          "validate": {
            "required": true,
            "customMessage": "Select yes or no"
          }
        }
      },
      "next": {
        "when": "age == 'yes'",
        "goto": "page3",
        "else": "ineligible"
      }
    },
    "ineligible": {
      "title": "You are not eligible to make a claim",
      "type": "ineligible",
      "description": "You must be 18 or over to use this service"
    },
    "page3": {
      "title": "What are your grounds for possession?",
      "description": "Select all grounds that apply to your case",
      "fields": {
        "grounds": {
          "type": "checkboxes",
          "label": "Select all that apply",
          "options": [
            {
              "value": "rent-arrears-8",
              "text": "Rent arrears (ground 8)",
              "hint": "The tenant owes at least 2 months' rent"
            },
            {
              "value": "breach-contract-9",
              "text": "Breach of contract (ground 9)",
              "hint": "The tenant has broken terms of the tenancy agreement"
            },
            {
              "value": "other-10",
              "text": "Other (ground 10)",
              "hint": "Other statutory grounds for possession"
            }
          ],
          "validate": {
            "required": true,
            "minLength": 1,
            "customMessage": "Select at least one option"
          }
        }
      },
      "next": {
        "when": "grounds.length >= 1",
        "goto": "page4"
      }
    },
    "page4": {
      "title": "What is your address?",
      "description": "We need to know your address to send you a copy of the claim",
      "fields": {
        "date": {
          "type": "date",
          "label": "Date of birth",
          "validate": {
            "errorMessages": {
              "day": "Enter a valid day!!!!",
              "month": "Enter a valid month!!!!",
              "year": "Enter a valid year!!!!",
              "required": "Enter your date of birth!!!!",
              "incomplete": "Date of birth must include a day, month and year!!!!",
              "invalid": "Date of birth must be a real date!!!!",
              "future": "Date of birth must be in the past!!!!!"
            }
          }
        }
      },
      "next": "summary"
    },
    "summary": {
      "title": "Check your answers",
      "type": "summary",
      "description": "Review your answers before submitting your claim",
      "next": "confirmation"
    },
    "confirmation": {
      "title": "Application complete",
      "type": "confirmation",
      "data": {
        "referenceNumber": true,
        "nextSteps": "Your claim will be reviewed within 5 working days"
      }
    }
  },
  "config": {
    "store": {
      "type": "redis"
    },
    "auth": {
      "required": true
    }
  }
}
